<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 Introdu√ß√£o ao R | intro-analise-de-dados.utf8</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.17 and GitBook 2.6.7" />

  <meta property="og:title" content="2 Introdu√ß√£o ao R | intro-analise-de-dados.utf8" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 Introdu√ß√£o ao R | intro-analise-de-dados.utf8" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="introdu√ß√£o.html"/>
<link rel="next" href="introdu√ß√£o-ao-python.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="introdu√ß√£o.html"><a href="introdu√ß√£o.html"><i class="fa fa-check"></i><b>1</b> Introdu√ß√£o</a><ul>
<li class="chapter" data-level="1.1" data-path="introdu√ß√£o.html"><a href="introdu√ß√£o.html#dados"><i class="fa fa-check"></i><b>1.1</b> Dados</a><ul>
<li class="chapter" data-level="1.1.1" data-path="introdu√ß√£o.html"><a href="introdu√ß√£o.html#tipos-de-dados"><i class="fa fa-check"></i><b>1.1.1</b> Tipos de dados</a></li>
<li class="chapter" data-level="1.1.2" data-path="introdu√ß√£o.html"><a href="introdu√ß√£o.html#formatos-de-dados"><i class="fa fa-check"></i><b>1.1.2</b> Formatos de dados</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="introdu√ß√£o.html"><a href="introdu√ß√£o.html#o-que-√©-an√°lise-de-dados"><i class="fa fa-check"></i><b>1.2</b> O que √© an√°lise de dados?</a><ul>
<li class="chapter" data-level="1.2.1" data-path="introdu√ß√£o.html"><a href="introdu√ß√£o.html#o-que-faz-um-analista-de-dados"><i class="fa fa-check"></i><b>1.2.1</b> O que faz um analista de dados?</a></li>
<li class="chapter" data-level="1.2.2" data-path="introdu√ß√£o.html"><a href="introdu√ß√£o.html#quais-s√£o-as-diferen√ßas-entre-analista-e-cientista-de-dados"><i class="fa fa-check"></i><b>1.2.2</b> Quais s√£o as diferen√ßas entre analista e cientista de dados?</a></li>
<li class="chapter" data-level="1.2.3" data-path="introdu√ß√£o.html"><a href="introdu√ß√£o.html#processos-da-an√°lise-de-dados"><i class="fa fa-check"></i><b>1.2.3</b> Processos da an√°lise de dados</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="introdu√ß√£o.html"><a href="introdu√ß√£o.html#contribui√ß√£o"><i class="fa fa-check"></i><b>1.3</b> Contribui√ß√£o</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introdu√ß√£o-ao-r.html"><a href="introdu√ß√£o-ao-r.html"><i class="fa fa-check"></i><b>2</b> Introdu√ß√£o ao R</a><ul>
<li class="chapter" data-level="2.1" data-path="introdu√ß√£o-ao-r.html"><a href="introdu√ß√£o-ao-r.html#defini√ß√£o-de-vari√°veis"><i class="fa fa-check"></i><b>2.1</b> Defini√ß√£o de vari√°veis</a><ul>
<li class="chapter" data-level="2.1.1" data-path="introdu√ß√£o-ao-r.html"><a href="introdu√ß√£o-ao-r.html#tipos-primitivos"><i class="fa fa-check"></i><b>2.1.1</b> Tipos primitivos</a></li>
<li class="chapter" data-level="2.1.2" data-path="introdu√ß√£o-ao-r.html"><a href="introdu√ß√£o-ao-r.html#tipos-de-dados-estruturados"><i class="fa fa-check"></i><b>2.1.2</b> Tipos de dados estruturados</a></li>
<li class="chapter" data-level="2.1.3" data-path="introdu√ß√£o-ao-r.html"><a href="introdu√ß√£o-ao-r.html#data-frame"><i class="fa fa-check"></i><b>2.1.3</b> Data Frame</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="introdu√ß√£o-ao-r.html"><a href="introdu√ß√£o-ao-r.html#opera√ß√µes-b√°sicas"><i class="fa fa-check"></i><b>2.2</b> Opera√ß√µes B√°sicas</a><ul>
<li class="chapter" data-level="2.2.1" data-path="introdu√ß√£o-ao-r.html"><a href="introdu√ß√£o-ao-r.html#dicas-√∫teis"><i class="fa fa-check"></i><b>2.2.1</b> Dicas √∫teis</a></li>
<li class="chapter" data-level="2.2.2" data-path="introdu√ß√£o-ao-r.html"><a href="introdu√ß√£o-ao-r.html#estat√≠stica-b√°sica"><i class="fa fa-check"></i><b>2.2.2</b> Estat√≠stica b√°sica</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="introdu√ß√£o-ao-r.html"><a href="introdu√ß√£o-ao-r.html#estruturas-de-decis√£o"><i class="fa fa-check"></i><b>2.3</b> Estruturas de decis√£o</a></li>
<li class="chapter" data-level="2.4" data-path="introdu√ß√£o-ao-r.html"><a href="introdu√ß√£o-ao-r.html#itera√ß√£o"><i class="fa fa-check"></i><b>2.4</b> Itera√ß√£o</a></li>
<li class="chapter" data-level="2.5" data-path="introdu√ß√£o-ao-r.html"><a href="introdu√ß√£o-ao-r.html#manipula√ß√£o-de-dados"><i class="fa fa-check"></i><b>2.5</b> Manipula√ß√£o de dados</a></li>
<li class="chapter" data-level="2.6" data-path="introdu√ß√£o-ao-r.html"><a href="introdu√ß√£o-ao-r.html#exemplos"><i class="fa fa-check"></i><b>2.6</b> Exemplos</a></li>
<li class="chapter" data-level="2.7" data-path="introdu√ß√£o-ao-r.html"><a href="introdu√ß√£o-ao-r.html#para-saber-mais"><i class="fa fa-check"></i><b>2.7</b> Para saber mais</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="introdu√ß√£o-ao-python.html"><a href="introdu√ß√£o-ao-python.html"><i class="fa fa-check"></i><b>3</b> Introdu√ß√£o ao Python üöÄ</a><ul>
<li class="chapter" data-level="3.1" data-path="introdu√ß√£o-ao-python.html"><a href="introdu√ß√£o-ao-python.html#introdu√ß√£o-ao-pandas"><i class="fa fa-check"></i><b>3.1</b> Introdu√ß√£o ao Pandas üêº</a></li>
<li class="chapter" data-level="3.2" data-path="introdu√ß√£o-ao-python.html"><a href="introdu√ß√£o-ao-python.html#estruturas-de-dados"><i class="fa fa-check"></i><b>3.2</b> Estruturas de dados</a><ul>
<li class="chapter" data-level="3.2.1" data-path="introdu√ß√£o-ao-python.html"><a href="introdu√ß√£o-ao-python.html#series"><i class="fa fa-check"></i><b>3.2.1</b> Series</a></li>
<li class="chapter" data-level="3.2.2" data-path="introdu√ß√£o-ao-python.html"><a href="introdu√ß√£o-ao-python.html#dataframes"><i class="fa fa-check"></i><b>3.2.2</b> DataFrames</a></li>
<li class="chapter" data-level="3.2.3" data-path="introdu√ß√£o-ao-python.html"><a href="introdu√ß√£o-ao-python.html#sele√ß√£o-e-filtro-dos-dados"><i class="fa fa-check"></i><b>3.2.3</b> Sele√ß√£o e filtro dos dados</a></li>
<li class="chapter" data-level="3.2.4" data-path="introdu√ß√£o-ao-python.html"><a href="introdu√ß√£o-ao-python.html#agrupamento-de-dados-e-agrega√ß√µes"><i class="fa fa-check"></i><b>3.2.4</b> Agrupamento de dados e agrega√ß√µes</a></li>
<li class="chapter" data-level="3.2.5" data-path="introdu√ß√£o-ao-python.html"><a href="introdu√ß√£o-ao-python.html#fun√ß√µes-de-leitura-e-escrita-de-dados"><i class="fa fa-check"></i><b>3.2.5</b> Fun√ß√µes de leitura e escrita de dados</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="introdu√ß√£o-ao-python.html"><a href="introdu√ß√£o-ao-python.html#exemplos-1"><i class="fa fa-check"></i><b>3.3</b> Exemplos</a></li>
<li class="chapter" data-level="3.4" data-path="introdu√ß√£o-ao-python.html"><a href="introdu√ß√£o-ao-python.html#para-saber-mais-1"><i class="fa fa-check"></i><b>3.4</b> Para saber mais</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="introdu√ß√£o-ao-ggplot.html"><a href="introdu√ß√£o-ao-ggplot.html"><i class="fa fa-check"></i><b>4</b> Introdu√ß√£o ao ggplot üìä</a><ul>
<li class="chapter" data-level="4.1" data-path="introdu√ß√£o-ao-ggplot.html"><a href="introdu√ß√£o-ao-ggplot.html#o-que-√©-o-ggplot"><i class="fa fa-check"></i><b>4.1</b> O que √© o <code>ggplot</code>?</a></li>
<li class="chapter" data-level="4.2" data-path="introdu√ß√£o-ao-ggplot.html"><a href="introdu√ß√£o-ao-ggplot.html#mapeamento-est√©tico"><i class="fa fa-check"></i><b>4.2</b> Mapeamento Est√©tico</a></li>
<li class="chapter" data-level="4.3" data-path="introdu√ß√£o-ao-ggplot.html"><a href="introdu√ß√£o-ao-ggplot.html#objetos-geom√©tricos"><i class="fa fa-check"></i><b>4.3</b> Objetos geom√©tricos</a></li>
<li class="chapter" data-level="4.4" data-path="introdu√ß√£o-ao-ggplot.html"><a href="introdu√ß√£o-ao-ggplot.html#escalas"><i class="fa fa-check"></i><b>4.4</b> Escalas</a></li>
<li class="chapter" data-level="4.5" data-path="introdu√ß√£o-ao-ggplot.html"><a href="introdu√ß√£o-ao-ggplot.html#subplots"><i class="fa fa-check"></i><b>4.5</b> Subplots</a></li>
<li class="chapter" data-level="4.6" data-path="introdu√ß√£o-ao-ggplot.html"><a href="introdu√ß√£o-ao-ggplot.html#temas"><i class="fa fa-check"></i><b>4.6</b> Temas</a></li>
<li class="chapter" data-level="4.7" data-path="introdu√ß√£o-ao-ggplot.html"><a href="introdu√ß√£o-ao-ggplot.html#exemplos-2"><i class="fa fa-check"></i><b>4.7</b> Exemplos</a><ul>
<li class="chapter" data-level="4.7.1" data-path="introdu√ß√£o-ao-ggplot.html"><a href="introdu√ß√£o-ao-ggplot.html#gr√°fico-de-coordenadas-paralelas"><i class="fa fa-check"></i><b>4.7.1</b> Gr√°fico de coordenadas paralelas</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="introdu√ß√£o-ao-ggplot.html"><a href="introdu√ß√£o-ao-ggplot.html#gr√°fico-de-colunas"><i class="fa fa-check"></i><b>4.8</b> Gr√°fico de colunas</a></li>
<li class="chapter" data-level="4.9" data-path="introdu√ß√£o-ao-ggplot.html"><a href="introdu√ß√£o-ao-ggplot.html#extens√£o-do-ggplot2---lemon"><i class="fa fa-check"></i><b>4.9</b> Extens√£o do ggplot2 - Lemon</a></li>
<li class="chapter" data-level="4.10" data-path="introdu√ß√£o-ao-ggplot.html"><a href="introdu√ß√£o-ao-ggplot.html#para-saber-mais-2"><i class="fa fa-check"></i><b>4.10</b> Para saber mais</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>5</b> References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introdu√ß√£o-ao-r" class="section level1">
<h1><span class="header-section-number">2</span> Introdu√ß√£o ao R</h1>
<p><strong>R</strong> √© uma linguagem de programa√ß√£o de alto n√≠vel voltada para visualiza√ß√£o e an√°lise de dados. Em ess√™ncia foi inspirada na linguagem de programa√ß√£o <strong>S</strong> (do ingl√™s <em>stats</em>). Foi inicialmente escrita por <a href="https://en.wikipedia.org/wiki/Ross_Ihaka"><strong>R</strong>oss Ihaka</a> e <a href="https://en.wikipedia.org/wiki/Robert_Gentleman_(statistician)"><strong>R</strong>obert Gentleman</a> no departamento de estat√≠stica da universidade de Auckland na Nova Zel√¢ndia. Atualmente a linguagem √© mantida pelo grupo <strong>R Core Team</strong> composto por pessoas do mundo inteiro que tentam melhorar a linguagem dia ap√≥s dia. Esse conte√∫do foi baseado no livro <em>THE R BOOK</em> escrito por <span class="citation">Crawley (2012)</span>, sendo considerado a b√≠blia do R.</p>
<p>O kernel do <strong>R</strong> e os pacotes podem ser baixados pelo
<a href="https://cran.r-project.org/">CRAN</a> - <em>C</em>omprehensive <strong>R</strong> <strong>A</strong>rchive <strong>N</strong>etwork. Para instalar os pacotes em R:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">  <span class="co"># Via CRAN</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2">  <span class="kw">install.packages</span>(<span class="st">&quot;nome_do_pacote&quot;</span>)</a>
<a class="sourceLine" id="cb4-3" data-line-number="3">  </a>
<a class="sourceLine" id="cb4-4" data-line-number="4">  <span class="co"># Via github (Pacote remotes)</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5">  remotes<span class="op">::</span><span class="kw">install_github</span>(<span class="st">&quot;nome_do_repositorio/nome_do_pacote&quot;</span>)</a></code></pre></div>
<p>O objetivo deste cap√≠tulo √© abordar, de forma introdut√≥ria, alguns conceitos b√°sicos do R. Caso existam informa√ß√µes que voc√™ acha relevante estar aqui, sinta-se √† vontade para contribuir.</p>
<div id="defini√ß√£o-de-vari√°veis" class="section level2">
<h2><span class="header-section-number">2.1</span> Defini√ß√£o de vari√°veis</h2>
<p>Para atribuir qualquer valor √† uma vari√°vel usamos uma seta <code>&lt;-</code> ou <code>=</code>, apontando-a para a vari√°vel. Segundo <span class="citation">Wickham and Grolemund (2017)</span>, usa-se a seta <code>&lt;-</code> como forma de boas pr√°ticas. Assim, para declarar as vari√°veis:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">  a &lt;-<span class="st"> &quot;Ol√°!&quot;</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2">  b &lt;-<span class="st"> </span><span class="dv">42</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3">  <span class="dv">22</span> -&gt;<span class="st"> </span>c</a></code></pre></div>
<div id="tipos-primitivos" class="section level3">
<h3><span class="header-section-number">2.1.1</span> Tipos primitivos</h3>
<p>Agora que sabemos atribuir valores a uma vari√°vel, vamos falar sobre os tipos primitivos do <strong>R</strong>. Seguindo uma hierarquia, existe a classe pai: <code>numeric</code>, basicamente o <code>numeric</code> √© todo n√∫mero declarado sem sufixo e o seu tipo √© <code>double</code>. No entanto, pode-se definir o tipo inteiro: <code>integer</code> colocando <code>L</code> na frente do valor (sufixo), e o tipo complexo: <code>complex</code> que por sua vez usa-se o <code>i</code>. H√° tamb√©m a classe <code>logical</code> que representa os valores booleanos <code>TRUE</code> e <code>FALSE</code>. Por √∫ltimo, a classe <code>character</code> que representa os caracteres.</p>
<p>Para declarar cada tipo:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">  <span class="co"># Inteiro</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2">  a &lt;-<span class="st"> </span>7L</a>
<a class="sourceLine" id="cb6-3" data-line-number="3">  </a>
<a class="sourceLine" id="cb6-4" data-line-number="4">  <span class="co"># Double</span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5">  b =<span class="st"> </span><span class="fl">14.01</span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6">  </a>
<a class="sourceLine" id="cb6-7" data-line-number="7">  <span class="co"># Booleano</span></a>
<a class="sourceLine" id="cb6-8" data-line-number="8">  k &lt;-<span class="st"> </span><span class="ot">FALSE</span></a>
<a class="sourceLine" id="cb6-9" data-line-number="9">  </a>
<a class="sourceLine" id="cb6-10" data-line-number="10">  <span class="co"># Complexo</span></a>
<a class="sourceLine" id="cb6-11" data-line-number="11">  g &lt;-<span class="st"> </span>12i </a>
<a class="sourceLine" id="cb6-12" data-line-number="12">  </a>
<a class="sourceLine" id="cb6-13" data-line-number="13">  <span class="co"># Caractere</span></a>
<a class="sourceLine" id="cb6-14" data-line-number="14">  couse &lt;-<span class="st"> &#39;cool&#39;</span></a>
<a class="sourceLine" id="cb6-15" data-line-number="15">  </a>
<a class="sourceLine" id="cb6-16" data-line-number="16">  <span class="co"># Para inspecionar o valor das vari√°veis</span></a>
<a class="sourceLine" id="cb6-17" data-line-number="17">  b</a></code></pre></div>
<pre><code>## [1] 14.01</code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">  <span class="co"># Para verificar a classe</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2">  <span class="kw">class</span>(a)</a></code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">  <span class="co"># Para ver o tipo</span></a>
<a class="sourceLine" id="cb10-2" data-line-number="2">  <span class="kw">typeof</span>(b)</a></code></pre></div>
<pre><code>## [1] &quot;double&quot;</code></pre>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">  <span class="co"># Para remov√™-las</span></a>
<a class="sourceLine" id="cb12-2" data-line-number="2">  <span class="kw">rm</span>(a)</a></code></pre></div>
<blockquote>
<p>se quiser saber mais sobre o tipo <code>complex</code>, deixamos um link no subcap√≠tulo <a href="https://dataat.github.io/introducao-analise-de-dados/introdu%C3%A7%C3%A3o-ao-r.html#para-saber-mais"><strong>Para saber mais</strong></a>.</p>
</blockquote>
</div>
<div id="tipos-de-dados-estruturados" class="section level3">
<h3><span class="header-section-number">2.1.2</span> Tipos de dados estruturados</h3>
<p>Agora que conhecemos os tipos primitivos, vamos aprender sobre vetores e matrizes. Apenas relembrando, podemos dizer que vetores sempre seguem um sentido, contendo uma linha e <strong>N</strong> colunas ou uma coluna e <strong>N</strong> linhas (Figura <a href="introdu√ß√£o-ao-r.html#fig:fig233">2.1</a>). Por outro lado, a matriz √© um vetor bidimensional, composta por linhas e colunas.</p>
<div class="figure" style="text-align: center"><span id="fig:fig233"></span>
<img src="images/vec_matriz.png" alt="Estrutura de dados: Vetor e Matriz" width="50%" />
<p class="caption">
Figure 2.1: Estrutura de dados: Vetor e Matriz
</p>
</div>
<p>No <strong>R</strong> h√° dois tipos de vetores:</p>
<ul>
<li><p><strong>Vetores at√¥micos</strong>: compostos por todos os tipos citados anteriormente e mais um tipo chamado <code>raw</code></p></li>
<li><p><strong>Listas</strong>: Chamadas de vetor recursivo e pode conter outras listas.</p></li>
</ul>
<p>Colocando de maneira simples, vetores at√¥micos s√£o homog√™neos, ou seja, apenas aceitam um tipo. Se alocado mais de um tipo no vetor, √© convertido pelo tipo mais forte. A hierarquia de tipos √© apresentada na Figura <a href="introdu√ß√£o-ao-r.html#fig:fig2">2.2</a>.</p>
<div class="figure"><span id="fig:fig2"></span>
<img src="images/tipos.png" alt="Hierarquia de dados - Fonte: @hadley2017" width="150%" />
<p class="caption">
Figure 2.2: Hierarquia de dados - Fonte: <span class="citation">Wickham and Grolemund (2017)</span>
</p>
</div>
<p>A Figura <a href="introdu√ß√£o-ao-r.html#fig:fig2">2.2</a> deve ser interpretada de baixo para cima. Seguindo essa ordem:</p>
<ul>
<li><code>character</code></li>
<li><code>complex</code></li>
<li><code>numeric</code></li>
<li><code>double</code></li>
<li><code>logical</code></li>
</ul>
<p>Para declarar um vetor em R usa-se <code>c()</code>, desta forma:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">  <span class="co"># Vetor l√≥gico</span></a>
<a class="sourceLine" id="cb13-2" data-line-number="2">  vetor_boleano &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb13-3" data-line-number="3">  </a>
<a class="sourceLine" id="cb13-4" data-line-number="4">  <span class="co"># Vetor n√∫merico</span></a>
<a class="sourceLine" id="cb13-5" data-line-number="5">  vetor_numerico &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">3.14</span>, <span class="fl">6.28</span>, <span class="fl">2.3</span>)</a>
<a class="sourceLine" id="cb13-6" data-line-number="6">  </a>
<a class="sourceLine" id="cb13-7" data-line-number="7">  <span class="co"># Vetor de caractere</span></a>
<a class="sourceLine" id="cb13-8" data-line-number="8">  vetor_char &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;ola&quot;</span>, <span class="st">&quot;pessoal&quot;</span>, <span class="st">&quot;!&quot;</span>)</a></code></pre></div>
<p>A convers√£o de tipos √© apresentada na c√©lula abaixo:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">  <span class="co"># Esse √© um vetor misturado</span></a>
<a class="sourceLine" id="cb14-2" data-line-number="2">  vetor_misturado &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;teste&quot;</span>, <span class="ot">FALSE</span>, <span class="dv">21</span>)</a>
<a class="sourceLine" id="cb14-3" data-line-number="3"></a>
<a class="sourceLine" id="cb14-4" data-line-number="4">  <span class="co"># Visualiza√ß√£o dos valores atribu√≠dos</span></a>
<a class="sourceLine" id="cb14-5" data-line-number="5">  vetor_misturado</a></code></pre></div>
<pre><code>## [1] &quot;teste&quot; &quot;FALSE&quot; &quot;21&quot;</code></pre>
<p>Ent√£o, seguindo a ideia de hierarquia de tipos, esse vetor ser√° convertido para <code>character</code> e continuar√° sendo at√¥mico ü•Å.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1">  <span class="co"># Para verificar se √© at√¥mico</span></a>
<a class="sourceLine" id="cb16-2" data-line-number="2">  <span class="kw">is.atomic</span>(vetor_misturado)</a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>Por outro lado, as listas s√£o heterog√™neas, ou seja, aceitam diversos tipos, sendo organizadas em listas de listas. Por isso, s√£o chamadas de vetores recursivos. Podemos implement√°-las usando <code>list()</code>, deste modo:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1">  <span class="co"># Lista de boleanos</span></a>
<a class="sourceLine" id="cb18-2" data-line-number="2">  lista_boleano &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb18-3" data-line-number="3">  </a>
<a class="sourceLine" id="cb18-4" data-line-number="4">  <span class="co"># Lista de inteiros</span></a>
<a class="sourceLine" id="cb18-5" data-line-number="5">  lista_inteiro &lt;-<span class="st"> </span><span class="kw">list</span>(12L, 10L, 7L)</a></code></pre></div>
<p>Podemos criar uma lista de diversos tipos, assim:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1">  <span class="co"># Lista com todos os tipos </span></a>
<a class="sourceLine" id="cb19-2" data-line-number="2">  lista_misturada &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="ot">FALSE</span>, 12L, <span class="st">&#39;t&#39;</span>, 2i)</a>
<a class="sourceLine" id="cb19-3" data-line-number="3"></a>
<a class="sourceLine" id="cb19-4" data-line-number="4">  <span class="co"># Visualiza√ß√£o da lista</span></a>
<a class="sourceLine" id="cb19-5" data-line-number="5">  lista_misturada</a></code></pre></div>
<pre><code>## [[1]]
## [1] FALSE
## 
## [[2]]
## [1] 12
## 
## [[3]]
## [1] &quot;t&quot;
## 
## [[4]]
## [1] 0+2i</code></pre>
<p>Para verificar se a lista √© at√¥mica como o vetor que criamos:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1">  <span class="co"># S√©ra ela at√¥mica?</span></a>
<a class="sourceLine" id="cb21-2" data-line-number="2">  <span class="kw">is.atomic</span>(lista_misturada)</a></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>Logo, temos uma lista n√£o at√¥mica, ou seja, de v√°rios os tipos. Mas ser√° ela uma lista mesmo? üßõüèø‚Äç‚ôÇÔ∏è</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1">  <span class="co"># Verificar se √© uma lista</span></a>
<a class="sourceLine" id="cb23-2" data-line-number="2">  <span class="kw">is.list</span>(lista_boleano)</a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>Podemos checar o tamanhos dos nossos vetores usando <code>length()</code>.</p>
<p>J√° sabemos dos tipos de vetores, agora vamos para as matrizes. As matrizes seguem a mesma ideia dos vetores at√¥micos. Podemos implement√°-la usando <code>matrix()</code>, deste modo:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1">  <span class="kw">library</span>(knitr)</a>
<a class="sourceLine" id="cb25-2" data-line-number="2"></a>
<a class="sourceLine" id="cb25-3" data-line-number="3">  <span class="co"># Minha matriz com n√∫meros inteiros com caractere</span></a>
<a class="sourceLine" id="cb25-4" data-line-number="4">   matriz &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">data =</span> <span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">25</span>, <span class="kw">rep</span>(<span class="st">&quot;teste&quot;</span>, <span class="dv">5</span>)), <span class="dt">nrow =</span> <span class="dv">5</span>, <span class="dt">ncol=</span><span class="dv">6</span>)</a>
<a class="sourceLine" id="cb25-5" data-line-number="5">   </a>
<a class="sourceLine" id="cb25-6" data-line-number="6">   <span class="co"># Para visualizar a matriz</span></a>
<a class="sourceLine" id="cb25-7" data-line-number="7">   knitr<span class="op">::</span><span class="kw">kable</span>(matriz)</a></code></pre></div>
<table>
<tbody>
<tr>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
6
</td>
<td style="text-align:left;">
11
</td>
<td style="text-align:left;">
16
</td>
<td style="text-align:left;">
21
</td>
<td style="text-align:left;">
teste
</td>
</tr>
<tr>
<td style="text-align:left;">
2
</td>
<td style="text-align:left;">
7
</td>
<td style="text-align:left;">
12
</td>
<td style="text-align:left;">
17
</td>
<td style="text-align:left;">
22
</td>
<td style="text-align:left;">
teste
</td>
</tr>
<tr>
<td style="text-align:left;">
3
</td>
<td style="text-align:left;">
8
</td>
<td style="text-align:left;">
13
</td>
<td style="text-align:left;">
18
</td>
<td style="text-align:left;">
23
</td>
<td style="text-align:left;">
teste
</td>
</tr>
<tr>
<td style="text-align:left;">
4
</td>
<td style="text-align:left;">
9
</td>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
19
</td>
<td style="text-align:left;">
24
</td>
<td style="text-align:left;">
teste
</td>
</tr>
<tr>
<td style="text-align:left;">
5
</td>
<td style="text-align:left;">
10
</td>
<td style="text-align:left;">
15
</td>
<td style="text-align:left;">
20
</td>
<td style="text-align:left;">
25
</td>
<td style="text-align:left;">
teste
</td>
</tr>
</tbody>
</table>
<p>Ent√£o, seguindo a hierarquia de tipos, a nossa matriz ser√° convertida para <code>character</code>. Podemos verificar seu tipo, desta forma:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1">  <span class="co"># Para verificar se √© matriz</span></a>
<a class="sourceLine" id="cb26-2" data-line-number="2">  <span class="kw">is.matrix</span>(matriz)</a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1">  <span class="co"># Para consultarmos por index</span></a>
<a class="sourceLine" id="cb28-2" data-line-number="2">  matriz[<span class="dv">1</span>,<span class="dv">4</span>]</a></code></pre></div>
<pre><code>## [1] &quot;16&quot;</code></pre>
<p>Podemos acessar os valores atrav√©s dos √≠ndices de linha e coluna <code>matriz[linha, coluna]</code>.</p>
</div>
<div id="data-frame" class="section level3">
<h3><span class="header-section-number">2.1.3</span> Data Frame</h3>
<p>Podemos definir <strong>Data frame</strong> como uma matriz (Figura <a href="introdu√ß√£o-ao-r.html#fig:fig233">2.1</a>), composta por linhas e colunas, cujas colunas representam as vari√°veis (atributos) e as linhas representam observa√ß√µes. A Figura <a href="introdu√ß√£o-ao-r.html#fig:fig322">2.3</a> apresenta um <strong>Data frame</strong>, na qual √© poss√≠vel observar as defini√ß√µes mencionadas anteriormente, desta forma, sabemos que o aluno <strong>Jos√©</strong> obteve <strong>7</strong> na disciplina de <strong>√Ålgebra Linear</strong>.</p>
<div class="figure" style="text-align: center"><span id="fig:fig322"></span>
<img src="images/df_definicao.png" alt=" Representa√ß√£o de um Data frame - Fonte: @gk4gk2019" width="80%" />
<p class="caption">
Figure 2.3:  Representa√ß√£o de um Data frame - Fonte: <span class="citation">GeeksforGeeks (2018)</span>
</p>
</div>
<p>O trecho de c√≥digo a seguir apresenta a implementa√ß√£o do <strong>Data frame</strong> apresentado na Figura <a href="introdu√ß√£o-ao-r.html#fig:fig322">2.3</a>.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1">  <span class="co"># Importa√ß√£o do pacote </span></a>
<a class="sourceLine" id="cb30-2" data-line-number="2">  <span class="kw">library</span>(tibble)  </a>
<a class="sourceLine" id="cb30-3" data-line-number="3">  </a>
<a class="sourceLine" id="cb30-4" data-line-number="4">  <span class="co"># Cria√ß√£o do tibble</span></a>
<a class="sourceLine" id="cb30-5" data-line-number="5">  df_escola &lt;-<span class="st"> </span>tibble<span class="op">::</span><span class="kw">tibble</span>(<span class="dt">Aluno =</span> <span class="kw">c</span>(<span class="st">&quot;Jos√©&quot;</span>, <span class="st">&quot;Maria&quot;</span>, <span class="st">&quot;Ana&quot;</span>, <span class="st">&quot;Carlos&quot;</span>),</a>
<a class="sourceLine" id="cb30-6" data-line-number="6">                              <span class="st">`</span><span class="dt">√Ålgebra Linear</span><span class="st">`</span> =<span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>, <span class="dv">10</span>, <span class="dv">8</span>, <span class="dv">7</span>),</a>
<a class="sourceLine" id="cb30-7" data-line-number="7">                              <span class="st">`</span><span class="dt">C√°lculo I</span><span class="st">`</span> =<span class="st"> </span><span class="kw">c</span>(<span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">10</span>, <span class="dv">5</span>),</a>
<a class="sourceLine" id="cb30-8" data-line-number="8">                              <span class="st">`</span><span class="dt">Eng. Software</span><span class="st">`</span> =<span class="st"> </span><span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">9</span>, <span class="dv">5</span>, <span class="dv">9</span>),</a>
<a class="sourceLine" id="cb30-9" data-line-number="9">                              <span class="st">`</span><span class="dt">PAD</span><span class="st">`</span> =<span class="st"> </span><span class="kw">c</span>(<span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">4</span>, <span class="dv">9</span>))</a>
<a class="sourceLine" id="cb30-10" data-line-number="10">    </a>
<a class="sourceLine" id="cb30-11" data-line-number="11">  <span class="co"># Visualiza√ß√£o dos dados </span></a>
<a class="sourceLine" id="cb30-12" data-line-number="12">  df_escola</a></code></pre></div>
<pre><code>## # A tibble: 4 x 5
##   Aluno  `√Ålgebra Linear` `C√°lculo I` `Eng. Software`   PAD
##   &lt;chr&gt;             &lt;dbl&gt;       &lt;dbl&gt;           &lt;dbl&gt; &lt;dbl&gt;
## 1 Jos√©                  7           8              10     5
## 2 Maria                10           9               9     7
## 3 Ana                   8          10               5     4
## 4 Carlos                7           5               9     9</code></pre>
<p>Neste minicurso, vamos usar o pacote <code>tibble</code> no lugar do m√©todo <code>data.frame</code> contido no <code>base</code> do <strong>R</strong>, visto que o <code>tibble</code> possui diversas vantagens em rela√ß√£o ao tradicional <code>data.frame</code>, por exemplo, ainda no <code>tibble</code> criado anteriormente, √© poss√≠vel observar os tipos de cada atributo. Com o objetivo de facilitar a etapa de an√°lise de dados, o pacote <code>tibble</code> n√£o faz a convers√£o de atributos do tipo <code>character</code> para <code>factor</code> de forma autom√°tica.</p>
<p>Agora que sabemos a defini√ß√£o de um <strong>Data frame</strong>, vamos ler um conjunto de dados em <code>.csv</code> e observar algumas caracter√≠sticas:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" data-line-number="1">  <span class="co"># Importa√ß√£o do pacote readr</span></a>
<a class="sourceLine" id="cb32-2" data-line-number="2">  <span class="kw">library</span>(readr)</a>
<a class="sourceLine" id="cb32-3" data-line-number="3">  </a>
<a class="sourceLine" id="cb32-4" data-line-number="4">  <span class="co"># Lendo nosso conjunto de dados</span></a>
<a class="sourceLine" id="cb32-5" data-line-number="5">  iris &lt;-<span class="st"> </span>readr<span class="op">::</span><span class="kw">read_csv</span>(<span class="dt">file =</span> <span class="st">&quot;./data/iris.csv&quot;</span>,)</a>
<a class="sourceLine" id="cb32-6" data-line-number="6"></a>
<a class="sourceLine" id="cb32-7" data-line-number="7">  <span class="co"># Verificando a classe dos nossos dados</span></a>
<a class="sourceLine" id="cb32-8" data-line-number="8">  <span class="kw">class</span>(iris)</a></code></pre></div>
<pre><code>## [1] &quot;spec_tbl_df&quot; &quot;tbl_df&quot;      &quot;tbl&quot;         &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" data-line-number="1">  <span class="co"># Verificando o tipo dos nossos dados</span></a>
<a class="sourceLine" id="cb34-2" data-line-number="2">  <span class="kw">typeof</span>(iris)</a></code></pre></div>
<pre><code>## [1] &quot;list&quot;</code></pre>
<p>Podemos usar quaisquer m√©todos criados para uso no <code>data.frame</code> no <code>tibble</code>. O c√≥digo acima mostra que o <code>tibble</code> criado possui tr√™s classes: <code>tbl_df</code>, <code>tbl</code> e <code>data.frame</code>. √â poss√≠vel observar que o <code>tibble</code> possui como classe comum o <code>data.frame</code>.</p>
<p>Podemos tirar algumas conclus√µes, a primeira √© que existe uma classe chamada <code>data.frame</code> que √© do tipo <code>list</code>, como visto anteriormente, a lista em <strong>R</strong> √© heterog√™nea, logo, sabemos que nosso <code>Data frame</code> pode ter v√°rios tipos. Para verificar se a classe <code>data.frame</code> √© at√¥mica:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" data-line-number="1">  <span class="co"># Verificando se √© atomico nosso df</span></a>
<a class="sourceLine" id="cb36-2" data-line-number="2">  <span class="kw">is.atomic</span>(iris)</a></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>Podemos acessar os atributos de um <strong>Data Frame</strong> de diversos modos, sendo um deles, utilizando o s√≠mbolo <code>$</code>:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" data-line-number="1">  <span class="co"># Para verificar as primeiras linhas</span></a>
<a class="sourceLine" id="cb38-2" data-line-number="2">  <span class="kw">head</span>(iris<span class="op">$</span>Species)</a></code></pre></div>
<pre><code>## [1] &quot;setosa&quot; &quot;setosa&quot; &quot;setosa&quot; &quot;setosa&quot; &quot;setosa&quot; &quot;setosa&quot;</code></pre>
<p>Vamos criar mais <code>Data Frame</code> para fixar o aprendizado:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" data-line-number="1">   <span class="co"># Cria√ß√£o do Data Frame</span></a>
<a class="sourceLine" id="cb40-2" data-line-number="2">   data_frame &lt;-<span class="st"> </span>tibble<span class="op">::</span><span class="kw">tibble</span>(</a>
<a class="sourceLine" id="cb40-3" data-line-number="3">     <span class="dt">Risco=</span><span class="kw">c</span>(<span class="ot">FALSE</span>,<span class="ot">FALSE</span>, <span class="ot">FALSE</span>, <span class="ot">FALSE</span>,<span class="ot">TRUE</span>),              </a>
<a class="sourceLine" id="cb40-4" data-line-number="4">     <span class="dt">Animal=</span><span class="kw">c</span>(<span class="st">&quot;Cachorro&quot;</span>, <span class="st">&quot;Gato&quot;</span>, <span class="st">&quot;Capivara&quot;</span>, <span class="st">&quot;Girafa&quot;</span>, <span class="st">&quot;Le√£o&quot;</span>),</a>
<a class="sourceLine" id="cb40-5" data-line-number="5">     <span class="dt">Periculosidade=</span><span class="kw">c</span>(<span class="dv">200</span>, <span class="dv">400</span>, <span class="dv">0</span>, <span class="dv">7</span>, <span class="dv">1000</span>))</a>
<a class="sourceLine" id="cb40-6" data-line-number="6">  </a>
<a class="sourceLine" id="cb40-7" data-line-number="7">  <span class="co"># Podemos acessar os valores individuais usando o &#39;$&#39;</span></a>
<a class="sourceLine" id="cb40-8" data-line-number="8">  data_frame<span class="op">$</span>Animal</a></code></pre></div>
<pre><code>## [1] &quot;Cachorro&quot; &quot;Gato&quot;     &quot;Capivara&quot; &quot;Girafa&quot;   &quot;Le√£o&quot;</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left;">
Risco
</th>
<th style="text-align:left;">
Animal
</th>
<th style="text-align:right;">
Periculosidade
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
Cachorro
</td>
<td style="text-align:right;">
200
</td>
</tr>
<tr>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
Gato
</td>
<td style="text-align:right;">
400
</td>
</tr>
<tr>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
Capivara
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="opera√ß√µes-b√°sicas" class="section level2">
<h2><span class="header-section-number">2.2</span> Opera√ß√µes B√°sicas</h2>
<p>Agora que sabemos como declarar uma vari√°vel, um vetor e um <em>Data frame</em>, nessa subse√ß√£o vamos dar algumas dicas e falar sobre alguns m√©todos estat√≠sticos.</p>
<div id="dicas-√∫teis" class="section level3">
<h3><span class="header-section-number">2.2.1</span> Dicas √∫teis</h3>
<p>Para importar os pacotes no <strong>R</strong> usa-se o comando <code>library()</code>. Caso esteja com d√∫vida sobre uma determinada fun√ß√£o, use o comando <code>?nome_do_pacote::nome_da_funcao</code>.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" data-line-number="1">  <span class="co"># Para importar um pacote</span></a>
<a class="sourceLine" id="cb42-2" data-line-number="2">  <span class="kw">library</span>(kohonen)</a>
<a class="sourceLine" id="cb42-3" data-line-number="3"></a>
<a class="sourceLine" id="cb42-4" data-line-number="4">  <span class="co"># Documenta√ß√£o da fun√ß√£o som do pacote kohonen</span></a>
<a class="sourceLine" id="cb42-5" data-line-number="5">  ?kohonen<span class="op">::</span>som</a></code></pre></div>
<p>Para especificar algum diret√≥rio para trabalhar, usamos o comando <code>setwd()</code> e para verificar o diret√≥rio atual <code>getwd()</code>.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb43-1" data-line-number="1">  <span class="co"># Para verificar seu diret√≥rio atual</span></a>
<a class="sourceLine" id="cb43-2" data-line-number="2">  <span class="kw">getwd</span>() </a>
<a class="sourceLine" id="cb43-3" data-line-number="3">  </a>
<a class="sourceLine" id="cb43-4" data-line-number="4">  <span class="co"># Para definir um novo diret√≥rio</span></a>
<a class="sourceLine" id="cb43-5" data-line-number="5">  <span class="kw">setwd</span>(<span class="st">&quot;/home/felipe/R&quot;</span>)</a></code></pre></div>
</div>
<div id="estat√≠stica-b√°sica" class="section level3">
<h3><span class="header-section-number">2.2.2</span> Estat√≠stica b√°sica</h3>
<p>Vamos pular as defini√ß√µes das fun√ß√µes estat√≠sticas que ser√£o abordadas, sendo as medidas de posi√ß√£o:</p>
<ul>
<li>M√©dia</li>
<li>Mediana</li>
</ul>
<p>e as medidas de dispers√£o:</p>
<ul>
<li>Desvio padr√£o</li>
</ul>
<p>Para verificar o desvio padr√£o do conjunto, podemos utilizar a fun√ß√£o <code>sd()</code> do pacote <code>stats</code> (j√° incluso no R). Podemos verificar a m√©dia com <code>mean()</code> que √© uma fun√ß√£o do pacote <code>base</code> (j√° incluso no R) e a mediana com <code>median()</code> do pacote <code>stats</code>.</p>
<p>Como demonstra√ß√£o, vamos utilizar o conjunto de dados do filme <em>Star Wars</em>:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb44-1" data-line-number="1">  <span class="co"># Vamos usar o dado do filme Star Wars do pacote dplyr*</span></a>
<a class="sourceLine" id="cb44-2" data-line-number="2">  <span class="kw">suppressMessages</span>(<span class="kw">library</span>(dplyr))</a>
<a class="sourceLine" id="cb44-3" data-line-number="3">  starwars &lt;-<span class="st"> </span>dplyr<span class="op">::</span>starwars</a>
<a class="sourceLine" id="cb44-4" data-line-number="4">  </a>
<a class="sourceLine" id="cb44-5" data-line-number="5">  <span class="co"># Vamos visualizar o dado</span></a>
<a class="sourceLine" id="cb44-6" data-line-number="6">  dplyr<span class="op">::</span><span class="kw">glimpse</span>(starwars)</a></code></pre></div>
<pre><code>## Observations: 87
## Variables: 13
## $ name       &lt;chr&gt; &quot;Luke Skywalker&quot;, &quot;C-3PO&quot;, &quot;R2-D2&quot;, &quot;Darth Vader&quot;, &quot;Leia O‚Ä¶
## $ height     &lt;int&gt; 172, 167, 96, 202, 150, 178, 165, 97, 183, 182, 188, 180, ‚Ä¶
## $ mass       &lt;dbl&gt; 77.0, 75.0, 32.0, 136.0, 49.0, 120.0, 75.0, 32.0, 84.0, 77‚Ä¶
## $ hair_color &lt;chr&gt; &quot;blond&quot;, NA, NA, &quot;none&quot;, &quot;brown&quot;, &quot;brown, grey&quot;, &quot;brown&quot;, ‚Ä¶
## $ skin_color &lt;chr&gt; &quot;fair&quot;, &quot;gold&quot;, &quot;white, blue&quot;, &quot;white&quot;, &quot;light&quot;, &quot;light&quot;, ‚Ä¶
## $ eye_color  &lt;chr&gt; &quot;blue&quot;, &quot;yellow&quot;, &quot;red&quot;, &quot;yellow&quot;, &quot;brown&quot;, &quot;blue&quot;, &quot;blue&quot;‚Ä¶
## $ birth_year &lt;dbl&gt; 19.0, 112.0, 33.0, 41.9, 19.0, 52.0, 47.0, NA, 24.0, 57.0,‚Ä¶
## $ gender     &lt;chr&gt; &quot;male&quot;, NA, NA, &quot;male&quot;, &quot;female&quot;, &quot;male&quot;, &quot;female&quot;, NA, &quot;m‚Ä¶
## $ homeworld  &lt;chr&gt; &quot;Tatooine&quot;, &quot;Tatooine&quot;, &quot;Naboo&quot;, &quot;Tatooine&quot;, &quot;Alderaan&quot;, &quot;‚Ä¶
## $ species    &lt;chr&gt; &quot;Human&quot;, &quot;Droid&quot;, &quot;Droid&quot;, &quot;Human&quot;, &quot;Human&quot;, &quot;Human&quot;, &quot;Hum‚Ä¶
## $ films      &lt;list&gt; [&lt;&quot;Revenge of the Sith&quot;, &quot;Return of the Jedi&quot;, &quot;The Empir‚Ä¶
## $ vehicles   &lt;list&gt; [&lt;&quot;Snowspeeder&quot;, &quot;Imperial Speeder Bike&quot;&gt;, &lt;&gt;, &lt;&gt;, &lt;&gt;, &quot;I‚Ä¶
## $ starships  &lt;list&gt; [&lt;&quot;X-wing&quot;, &quot;Imperial shuttle&quot;&gt;, &lt;&gt;, &lt;&gt;, &quot;TIE Advanced x1‚Ä¶</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb46-1" data-line-number="1">  <span class="co"># Vamos ver a m√©dia de ano de nascimento</span></a>
<a class="sourceLine" id="cb46-2" data-line-number="2">  <span class="kw">mean</span>(starwars<span class="op">$</span>birth_year)</a></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb48-1" data-line-number="1">  <span class="co"># Observe que o NA gera um erro na nossa m√©dia, vamos remov√™-lo</span></a>
<a class="sourceLine" id="cb48-2" data-line-number="2">  <span class="kw">mean</span>(starwars<span class="op">$</span>birth_year, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>## [1] 87.56512</code></pre>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb50-1" data-line-number="1">  <span class="co"># Mediana</span></a>
<a class="sourceLine" id="cb50-2" data-line-number="2">  <span class="kw">median</span>(starwars<span class="op">$</span>birth_year, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>## [1] 52</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb52-1" data-line-number="1">  <span class="co"># Podemos procurar pela menor data de nascimento</span></a>
<a class="sourceLine" id="cb52-2" data-line-number="2">  <span class="kw">min</span>(starwars<span class="op">$</span>birth_year, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>## [1] 8</code></pre>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb54-1" data-line-number="1">  <span class="co"># Pelo m√°ximo tamb√©m</span></a>
<a class="sourceLine" id="cb54-2" data-line-number="2">  <span class="kw">max</span>(starwars<span class="op">$</span>birth_year, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>## [1] 896</code></pre>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb56-1" data-line-number="1">  <span class="co"># Desvio padr√£o </span></a>
<a class="sourceLine" id="cb56-2" data-line-number="2">  <span class="kw">sd</span>(starwars<span class="op">$</span>birth_year, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>## [1] 154.6914</code></pre>
</div>
</div>
<div id="estruturas-de-decis√£o" class="section level2">
<h2><span class="header-section-number">2.3</span> Estruturas de decis√£o</h2>
<p>Os <code>IF's</code> da vida - se chover e fizer frio, n√£o vou √† praia. No <strong>R</strong>, a estrutura de decis√£o √© bem parecida com a do <em>Java</em>, ainda com o conjunto do <em>star wars</em>:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb58-1" data-line-number="1">  personagem &lt;-<span class="st"> &quot;BB8&quot;</span>  </a>
<a class="sourceLine" id="cb58-2" data-line-number="2"></a>
<a class="sourceLine" id="cb58-3" data-line-number="3">  <span class="cf">if</span>(personagem <span class="op">%in%</span><span class="st"> </span>starwars<span class="op">$</span>name){</a>
<a class="sourceLine" id="cb58-4" data-line-number="4">    <span class="st">&quot;Tem o personagem BB8 nos dados&quot;</span></a>
<a class="sourceLine" id="cb58-5" data-line-number="5">  } <span class="cf">else</span> <span class="cf">if</span>(<span class="st">&quot;Padm√©&quot;</span> <span class="op">%in%</span><span class="st"> </span>starwars<span class="op">$</span>name) {</a>
<a class="sourceLine" id="cb58-6" data-line-number="6">    <span class="st">&quot;Tem a personagem Padm√© nos dados&quot;</span></a>
<a class="sourceLine" id="cb58-7" data-line-number="7">  } <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb58-8" data-line-number="8">    <span class="st">&quot;N√£o possui esse personagem&quot;</span></a>
<a class="sourceLine" id="cb58-9" data-line-number="9">  }</a></code></pre></div>
<pre><code>## [1] &quot;Tem o personagem BB8 nos dados&quot;</code></pre>
</div>
<div id="itera√ß√£o" class="section level2">
<h2><span class="header-section-number">2.4</span> Itera√ß√£o</h2>
<p>Para o <code>for</code> podemos utilizar o <code>foreach</code>, parecido com <code>Python</code>, desta maneira:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb60-1" data-line-number="1">  <span class="co"># Foreach</span></a>
<a class="sourceLine" id="cb60-2" data-line-number="2">  <span class="cf">for</span>(i <span class="cf">in</span> <span class="kw">head</span>(starwars<span class="op">$</span>name, <span class="dv">3</span>)){</a>
<a class="sourceLine" id="cb60-3" data-line-number="3">    <span class="kw">print</span>(i)</a>
<a class="sourceLine" id="cb60-4" data-line-number="4">  }</a></code></pre></div>
<pre><code>## [1] &quot;Luke Skywalker&quot;
## [1] &quot;C-3PO&quot;
## [1] &quot;R2-D2&quot;</code></pre>
</div>
<div id="manipula√ß√£o-de-dados" class="section level2">
<h2><span class="header-section-number">2.5</span> Manipula√ß√£o de dados</h2>
<p>Vamos utilizar o pacote <code>dplyr</code> do <em>kit</em> de ferramentas <a href="https://www.tidyverse.org/"><strong>Tidyverse</strong></a>. Vamos criar um <code>data.frame</code> para a manipula√ß√£o, desta maneira:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb62-1" data-line-number="1">meu_df &lt;-<span class="st"> </span>tibble<span class="op">::</span><span class="kw">tibble</span>(</a>
<a class="sourceLine" id="cb62-2" data-line-number="2">    <span class="dt">aluno_id =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>),</a>
<a class="sourceLine" id="cb62-3" data-line-number="3">    <span class="dt">aluno_sexo =</span> <span class="kw">c</span>(<span class="st">&quot;Masculino&quot;</span>, <span class="st">&quot;Feminino&quot;</span>,<span class="st">&quot;Masculino&quot;</span>, <span class="st">&quot;Feminino&quot;</span>, <span class="st">&quot;Masculino&quot;</span>, <span class="st">&quot;Feminino&quot;</span>),</a>
<a class="sourceLine" id="cb62-4" data-line-number="4">    <span class="dt">aluno_curso =</span> <span class="kw">c</span>(<span class="st">&quot;Hist√≥ria&quot;, &quot;</span>Hist√≥ria&quot;, <span class="st">&quot;Matem√°tica&quot;</span>,</a>
<a class="sourceLine" id="cb62-5" data-line-number="5">                    <span class="st">&quot;Estat√≠stica&quot;</span>, <span class="st">&quot;Matem√°tica&quot;</span>, <span class="st">&quot;Estat√≠stica&quot;</span>),</a>
<a class="sourceLine" id="cb62-6" data-line-number="6">    <span class="dt">aluno_media =</span> <span class="kw">c</span>(<span class="fl">2.1</span>, <span class="fl">3.5</span>, <span class="fl">4.0</span>, <span class="fl">1.0</span>, <span class="ot">NA</span>, <span class="fl">4.9</span>),</a>
<a class="sourceLine" id="cb62-7" data-line-number="7">    <span class="dt">aluno_avaliacao =</span> <span class="kw">c</span>(<span class="st">&quot;Ruim&quot;</span>, <span class="st">&quot;Ruim&quot;</span>, <span class="st">&quot;Excelente&quot;</span>,</a>
<a class="sourceLine" id="cb62-8" data-line-number="8">                        <span class="st">&quot;Ruim&quot;</span>, <span class="st">&quot;Nenhum&quot;</span>, <span class="st">&quot;Excelente&quot;</span>))</a></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:right;">
aluno_id
</th>
<th style="text-align:left;">
aluno_sexo
</th>
<th style="text-align:left;">
aluno_curso
</th>
<th style="text-align:right;">
aluno_media
</th>
<th style="text-align:left;">
aluno_avaliacao
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Masculino
</td>
<td style="text-align:left;">
Hist√≥ria
</td>
<td style="text-align:right;">
2.1
</td>
<td style="text-align:left;">
Ruim
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
Feminino
</td>
<td style="text-align:left;">
Hist√≥ria
</td>
<td style="text-align:right;">
3.5
</td>
<td style="text-align:left;">
Ruim
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Masculino
</td>
<td style="text-align:left;">
Matem√°tica
</td>
<td style="text-align:right;">
4.0
</td>
<td style="text-align:left;">
Excelente
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:left;">
Feminino
</td>
<td style="text-align:left;">
Estat√≠stica
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:left;">
Ruim
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
Masculino
</td>
<td style="text-align:left;">
Matem√°tica
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
Nenhum
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:left;">
Feminino
</td>
<td style="text-align:left;">
Estat√≠stica
</td>
<td style="text-align:right;">
4.9
</td>
<td style="text-align:left;">
Excelente
</td>
</tr>
</tbody>
</table>
<p>Vamos utilizar os seguintes m√©todos do pacote <strong>dplyr</strong>:</p>
<ul>
<li><code>select</code> - Sele√ß√£o de atributos de um <strong>Data Frame</strong></li>
<li><code>filter</code> - Filtro de observa√ß√µes de acordo com uma l√≥gica pr√©-definida</li>
<li><code>mutate</code> - Cria√ß√£o de novos atributos</li>
<li><code>group_by</code> - Cria√ß√£o de grupos para aplica√ß√£o de fun√ß√µes de agrega√ß√£o</li>
<li><code>summarize</code> - Fun√ß√£o de agrega√ß√£o aplicada em grupos</li>
</ul>
<p>Vamos manipular nosso <strong>Data Frame</strong> com base nos m√©todos acima:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb63-1" data-line-number="1">  <span class="co"># Importa√ß√£o do pacote dplyr</span></a>
<a class="sourceLine" id="cb63-2" data-line-number="2">  <span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb63-3" data-line-number="3">  </a>
<a class="sourceLine" id="cb63-4" data-line-number="4">  <span class="co"># Filtro pelo atributo &quot;aluno_avaliano&quot;</span></a>
<a class="sourceLine" id="cb63-5" data-line-number="5">  filtro &lt;-<span class="st"> </span>dplyr<span class="op">::</span><span class="kw">filter</span>(meu_df, meu_df<span class="op">$</span>aluno_avaliacao <span class="op">==</span><span class="st"> &quot;Ruim&quot;</span>)</a>
<a class="sourceLine" id="cb63-6" data-line-number="6"> </a>
<a class="sourceLine" id="cb63-7" data-line-number="7">  <span class="co"># Sele√ß√£o dos atributos &quot;aluno_curso&quot;, &quot;aluno_avaliacao&quot; e &quot;aluno_media&quot;</span></a>
<a class="sourceLine" id="cb63-8" data-line-number="8">  selecao &lt;-<span class="st"> </span>dplyr<span class="op">::</span><span class="kw">select</span>(filtro, aluno_curso, aluno_avaliacao, aluno_media)</a>
<a class="sourceLine" id="cb63-9" data-line-number="9">  </a>
<a class="sourceLine" id="cb63-10" data-line-number="10">  <span class="co"># Cria√ß√£o de um grupo de cursos</span></a>
<a class="sourceLine" id="cb63-11" data-line-number="11">  grupo &lt;-<span class="st"> </span>dplyr<span class="op">::</span><span class="kw">group_by</span>(selecao, aluno_curso)</a>
<a class="sourceLine" id="cb63-12" data-line-number="12"> </a>
<a class="sourceLine" id="cb63-13" data-line-number="13">  <span class="co"># Agrega√ß√£o pela m√©dia de cada curso</span></a>
<a class="sourceLine" id="cb63-14" data-line-number="14">  media &lt;-<span class="st"> </span>dplyr<span class="op">::</span><span class="kw">summarize</span>(grupo, <span class="dt">media_grupo =</span> <span class="kw">mean</span>(aluno_media))</a></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
aluno_curso
</th>
<th style="text-align:right;">
media_grupo
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Estat√≠stica
</td>
<td style="text-align:right;">
1.0
</td>
</tr>
<tr>
<td style="text-align:left;">
Hist√≥ria
</td>
<td style="text-align:right;">
2.8
</td>
</tr>
</tbody>
</table>
<p>Basicamente, filtramos pelo atributo <code>aluno_avaliacao</code>, selecionamos os atributos <code>aluno_curso</code>, <code>aluno_avaliacao</code> e <code>aluno_media</code>, agrupamos pelos cursos e tiramos a m√©dia daquele grupo em rela√ß√£o os cursos üêª. Mas, ficou muito grande, como podemos melhorar? Substituindo por apenas uma vari√°vel, desta forma:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb64-1" data-line-number="1">  <span class="co"># Filtro pelo atributo &quot;aluno_avaliano&quot;</span></a>
<a class="sourceLine" id="cb64-2" data-line-number="2">  meu_df1 &lt;-<span class="st"> </span>dplyr<span class="op">::</span><span class="kw">filter</span>(meu_df, meu_df<span class="op">$</span>aluno_avaliacao <span class="op">==</span><span class="st">&quot;Ruim&quot;</span>)</a>
<a class="sourceLine" id="cb64-3" data-line-number="3"></a>
<a class="sourceLine" id="cb64-4" data-line-number="4">  <span class="co"># Sele√ß√£o dos atributos &quot;aluno_curso&quot;, &quot;aluno_avaliacao&quot; e &quot;aluno_media&quot;</span></a>
<a class="sourceLine" id="cb64-5" data-line-number="5">  meu_df1 &lt;-<span class="st"> </span>dplyr<span class="op">::</span><span class="kw">select</span>(meu_df1, aluno_curso, aluno_avaliacao, aluno_media)</a>
<a class="sourceLine" id="cb64-6" data-line-number="6">  </a>
<a class="sourceLine" id="cb64-7" data-line-number="7">  <span class="co"># Cria√ß√£o de um grupo de cursos</span></a>
<a class="sourceLine" id="cb64-8" data-line-number="8">  meu_df1 &lt;-<span class="st"> </span>dplyr<span class="op">::</span><span class="kw">group_by</span>(meu_df1, aluno_curso)</a>
<a class="sourceLine" id="cb64-9" data-line-number="9"> </a>
<a class="sourceLine" id="cb64-10" data-line-number="10">  <span class="co"># Agrega√ß√£o pela m√©dia de cada curso</span></a>
<a class="sourceLine" id="cb64-11" data-line-number="11">  meu_df1 &lt;-<span class="st"> </span>dplyr<span class="op">::</span><span class="kw">summarize</span>(meu_df1, <span class="dt">media_grupo =</span> <span class="kw">mean</span>(aluno_media))</a></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
aluno_curso
</th>
<th style="text-align:right;">
media_grupo
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Estat√≠stica
</td>
<td style="text-align:right;">
1.0
</td>
</tr>
<tr>
<td style="text-align:left;">
Hist√≥ria
</td>
<td style="text-align:right;">
2.8
</td>
</tr>
</tbody>
</table>
<p>Melhorou um pouco, n√£o? üî∑. Podemos melhorar ainda mais, como? Usando <code>%&gt;%</code> este s√≠mbolo, chamado de <strong>pipe</strong> ou <strong>ent√£o</strong>, basicamente, √© a <code>pipe</code> utilizada no <strong>Linux</strong>.</p>
<p>A <strong>pipe</strong> passa a resposta da primeira atribui√ß√£o para o primeiro par√¢metro da fun√ß√£o seguinte, desta forma:</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb65-1" data-line-number="1">meu_vetor &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">9</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mean</span>()</a>
<a class="sourceLine" id="cb65-2" data-line-number="2">  </a>
<a class="sourceLine" id="cb65-3" data-line-number="3">meu_vetor</a></code></pre></div>
<pre><code>## [1] 5</code></pre>
<p>Ent√£o, podemos ver que n√£o coloco o <code>meu_vetor</code> como par√¢metro da fun√ß√£o <code>mean()</code>, mas, e se eu quiser colocar mais par√¢metros? Opa, voc√™ pode e deve, segue a mesma linha de racioc√≠nio da fun√ß√£o normal, desta forma:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb67-1" data-line-number="1">meu_vetor &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>, <span class="ot">NA</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mean</span>(<span class="dt">na.rm=</span><span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb67-2" data-line-number="2"></a>
<a class="sourceLine" id="cb67-3" data-line-number="3">meu_vetor</a></code></pre></div>
<pre><code>## [1] 5</code></pre>
<p>Agora, vamos otimizar nossa manipula√ß√£o usando <strong>pipe</strong>, desta forma:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb69-1" data-line-number="1">  <span class="co"># exemplo de uso do operador pipe</span></a>
<a class="sourceLine" id="cb69-2" data-line-number="2">  df &lt;-<span class="st"> </span>meu_df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(aluno_avaliacao <span class="op">==</span><span class="st"> &quot;Ruim&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb69-3" data-line-number="3"><span class="st">    </span><span class="kw">select</span>(aluno_curso, aluno_avaliacao, aluno_media) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb69-4" data-line-number="4"><span class="st">    </span><span class="kw">group_by</span>(aluno_curso) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb69-5" data-line-number="5"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">media_grupo =</span> <span class="kw">mean</span>(aluno_media))</a></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
aluno_curso
</th>
<th style="text-align:right;">
media_grupo
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Estat√≠stica
</td>
<td style="text-align:right;">
1.0
</td>
</tr>
<tr>
<td style="text-align:left;">
Hist√≥ria
</td>
<td style="text-align:right;">
2.8
</td>
</tr>
</tbody>
</table>
<p>Essa √© a principal fun√ß√£o do operador <strong>pipe</strong>, tornar o c√≥digo mais limpo e reprodut√≠vel.</p>
</div>
<div id="exemplos" class="section level2">
<h2><span class="header-section-number">2.6</span> Exemplos</h2>
<p>Para encerrarmos esse cap√≠tulo de R, vamos mostrar uma an√°lise de dados aplicada no mundo real, com uso de dois conjuntos de dados, obtidos atrav√©s da plataforma <a href="https://www.kaggle.com/">kaggle</a>. Os conjuntos de dados correspondem a s√©rie temporal de <a href="https://www.kaggle.com/berkeleyearth/climate-change-earth-surface-temperature-data">mudan√ßa clim√°tica da temperatura da sup√©rcie terrestre</a> e os <a href="https://www.kaggle.com/statchaitya/country-to-continent">continentes de cada pa√≠s</a>. O objetivo desta an√°lise √© verificar qual o continente que registrou a maior m√©dia anual de temperatura.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb70-1" data-line-number="1">  <span class="co"># Importa√ß√£o dos pacotes utilizados</span></a>
<a class="sourceLine" id="cb70-2" data-line-number="2">  <span class="kw">library</span>(readr)     <span class="co"># Leitura de dados retangulares</span></a>
<a class="sourceLine" id="cb70-3" data-line-number="3">  <span class="kw">library</span>(dplyr)     <span class="co"># M√©todos para manipula√ß√£o de dados</span></a>
<a class="sourceLine" id="cb70-4" data-line-number="4">  <span class="kw">library</span>(lubridate) <span class="co"># M√©todos para trabalhar com dados do tipo date </span></a>
<a class="sourceLine" id="cb70-5" data-line-number="5">  </a>
<a class="sourceLine" id="cb70-6" data-line-number="6">  <span class="co"># Leitura dos dados de mudan√ßa clim√°tica</span></a>
<a class="sourceLine" id="cb70-7" data-line-number="7">  temperature_countries &lt;-</a>
<a class="sourceLine" id="cb70-8" data-line-number="8"><span class="st">  </span>readr<span class="op">::</span><span class="kw">read_csv</span>(<span class="st">&quot;./data/GlobalLandTemperaturesByCountry.csv&quot;</span>)</a>
<a class="sourceLine" id="cb70-9" data-line-number="9"></a>
<a class="sourceLine" id="cb70-10" data-line-number="10">  <span class="co"># Leitura e sele√ß√£o dos dados de continentes</span></a>
<a class="sourceLine" id="cb70-11" data-line-number="11">  continent &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb70-12" data-line-number="12"><span class="st">    </span>readr<span class="op">::</span><span class="kw">read_csv</span>(<span class="st">&quot;./data/countryContinent.csv&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb70-13" data-line-number="13"><span class="st">    </span>dplyr<span class="op">::</span><span class="kw">select</span>(country, continent) <span class="co"># Sele√ß√£o do atributo continente</span></a>
<a class="sourceLine" id="cb70-14" data-line-number="14"></a>
<a class="sourceLine" id="cb70-15" data-line-number="15">  <span class="co"># Filtro a partir do ano 2000 e extra√ß√£o da m√©dia anual (talvez n√£o seja a melhor abordagem)</span></a>
<a class="sourceLine" id="cb70-16" data-line-number="16">  year_temperature &lt;-<span class="st"> </span>temperature_countries <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb70-17" data-line-number="17"><span class="st">    </span>dplyr<span class="op">::</span><span class="kw">filter</span>(dt <span class="op">&gt;</span><span class="st"> &quot;2000-01-01&quot;</span>)  <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># Filtro a partir do ano 2000</span></a>
<a class="sourceLine" id="cb70-18" data-line-number="18"><span class="st">    </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">dt =</span> lubridate<span class="op">::</span><span class="kw">year</span>(dt)) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># Transformando pro tipo date</span></a>
<a class="sourceLine" id="cb70-19" data-line-number="19"><span class="st">    </span>dplyr<span class="op">::</span><span class="kw">group_by</span>(Country, dt) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># Criando um grupo de pa√≠ses</span></a>
<a class="sourceLine" id="cb70-20" data-line-number="20"><span class="st">    </span>dplyr<span class="op">::</span><span class="kw">summarise</span>(<span class="dt">year_mean =</span> <span class="kw">mean</span>(AverageTemperature)) <span class="co"># Agrega√ß√£o pela m√©dia</span></a>
<a class="sourceLine" id="cb70-21" data-line-number="21">  </a>
<a class="sourceLine" id="cb70-22" data-line-number="22">  <span class="co"># Jun√ß√£o dos continentes com cada pa√≠s  </span></a>
<a class="sourceLine" id="cb70-23" data-line-number="23">  final_dataset &lt;-<span class="st"> </span>year_temperature <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb70-24" data-line-number="24"><span class="st">    </span>dplyr<span class="op">::</span><span class="kw">rename</span>(<span class="dt">country =</span> Country) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># Alterando o nome do atributo</span></a>
<a class="sourceLine" id="cb70-25" data-line-number="25"><span class="st">    </span>dplyr<span class="op">::</span><span class="kw">left_join</span>(continent, <span class="dt">by=</span><span class="st">&quot;country&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># Jun√ß√£o dos dois conjuntos</span></a>
<a class="sourceLine" id="cb70-26" data-line-number="26"><span class="st">    </span>dplyr<span class="op">::</span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(continent)) <span class="co"># Remo√ß√£o dos valores NA </span></a>
<a class="sourceLine" id="cb70-27" data-line-number="27">  </a>
<a class="sourceLine" id="cb70-28" data-line-number="28">  <span class="co"># Visualiza√ß√£o dos dados</span></a>
<a class="sourceLine" id="cb70-29" data-line-number="29">  <span class="kw">head</span>(final_dataset, <span class="dv">5</span>)</a></code></pre></div>
<pre><code>## # A tibble: 5 x 4
## # Groups:   country [1]
##   country        dt year_mean continent
##   &lt;chr&gt;       &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;    
## 1 Afghanistan  2000      16.7 Asia     
## 2 Afghanistan  2001      15.8 Asia     
## 3 Afghanistan  2002      15.5 Asia     
## 4 Afghanistan  2003      14.9 Asia     
## 5 Afghanistan  2004      15.8 Asia</code></pre>
<p>Agora vamos responder a nossa pergunta: qual o continente que registrou a maior temperatura anual?</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb72-1" data-line-number="1">  <span class="co"># Cria√ß√£o de um grupo de continentes e agregando pela maior temperatura</span></a>
<a class="sourceLine" id="cb72-2" data-line-number="2">  final_dataset <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb72-3" data-line-number="3"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">group_by</span>(continent) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># Grupo de continentes</span></a>
<a class="sourceLine" id="cb72-4" data-line-number="4"><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">maior_temp =</span> <span class="kw">max</span>(year_mean, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)) <span class="co"># Agrega√ß√£o pela temp max</span></a></code></pre></div>
<pre><code>## # A tibble: 5 x 2
##   continent maior_temp
##   &lt;chr&gt;          &lt;dbl&gt;
## 1 Africa          30.3
## 2 Americas        29.0
## 3 Asia            29.7
## 4 Europe          20.3
## 5 Oceania         27.9</code></pre>
<p>Podemos gerar outras perguntas, por exemplo, qual o ano com a maior m√©dia de temperatura registrada?</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb74-1" data-line-number="1">  <span class="co"># Cria√ß√£o de um grupo de anos e agrega√ß√£o pelo valor da temperatura, por fim ordena√ß√£o pelos valores de temperatura</span></a>
<a class="sourceLine" id="cb74-2" data-line-number="2">  final_dataset <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb74-3" data-line-number="3"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">group_by</span>(dt) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># Grupo dos anos </span></a>
<a class="sourceLine" id="cb74-4" data-line-number="4"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">summarise</span>(<span class="dt">maior_temp =</span> <span class="kw">max</span>(year_mean, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># Agrega√ß√£o pelo max</span></a>
<a class="sourceLine" id="cb74-5" data-line-number="5"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">arrange</span>(<span class="kw">desc</span>(maior_temp)) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># Ordena√ß√£o pela temperatura</span></a>
<a class="sourceLine" id="cb74-6" data-line-number="6"><span class="st">  </span><span class="kw">head</span>(<span class="dv">5</span>)</a></code></pre></div>
<pre><code>## # A tibble: 5 x 2
##      dt maior_temp
##   &lt;dbl&gt;      &lt;dbl&gt;
## 1  2000       30.3
## 2  2010       30.1
## 3  2012       29.9
## 4  2009       29.9
## 5  2011       29.8</code></pre>
<p>Enfim, podemos responder diversas perguntas com poucas linhas de c√≥digo. Esperamos que este cap√≠tulo tenha despertado sua curiosidade sobre an√°lise de dados. Os materiais base utilizados para cria√ß√£o deste cap√≠tulo se encontram nesta <a href="https://dataat.github.io/introducao-analise-de-dados/introdu%C3%A7%C3%A3o-ao-r.html#para-saber-mais">subse√ß√£o</a>.</p>
</div>
<div id="para-saber-mais" class="section level2">
<h2><span class="header-section-number">2.7</span> Para saber mais</h2>
<p>Este foi s√≥ o come√ßo! Para continuar e aprender mais, consulte:</p>
<ul>
<li><a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/complex.html">N√∫meros complexos</a></li>
<li><a href="http://uc-r.github.io/integer_double/">Tipos n√∫mericos em R</a></li>
<li><a href="https://www.burns-stat.com/documents/tutorials/impatient-r/">Diferen√ßa entre lista e vetor</a></li>
<li><a href="https://cran.r-project.org/doc/FAQ/R-FAQ.html#Introduction">Documenta√ß√£o do CRAN</a></li>
<li><a href="https://csgillespie.github.io/efficientR/">R eficiente</a></li>
<li><a href="https://r4ds.had.co.nz/">R 4 Data Science</a></li>
<li><a href="!https://github.com/rafaeldcsantos/CAP-394">Material da mat√©ria CAP-394 (INPE)</a></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introdu√ß√£o.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="introdu√ß√£o-ao-python.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
